{"version":3,"sources":["Components/Table/index.jsx"],"names":["Tablee","props","apiList","onHandleDelete","onHandleUpdate","useState","Object","keys","title","setTitle","tempt","useRef","useEffect","className","responsive","hover","map","column","key","row","idName","id","idDes","idPrice","idBtn","idBtnDel","name","description","price","createdAt","updatedAt","style","width","onClick","btn","document","getElementById","btnDel","des","nameVal","innerHTML","desVal","priceVal","console","log","current","data","find","api","innerText","value","trim","setTimeout","alert","handleUpdate","color","handleDelete","defaultProps"],"mappings":"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","file":"static/js/4.f8ed0078.chunk.js","sourcesContent":["import React, { useEffect,useRef} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Table } from 'reactstrap';\r\nimport { useState } from 'react/cjs/react.development';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './Table.scss'\r\n\r\nTablee.propTypes = {\r\n    apiList : PropTypes.array,\r\n    onHandleDelete: PropTypes.func,\r\n    onHandleUpdate : PropTypes.func,\r\n};\r\n\r\nTablee.defaultProps = {\r\n    apiList : [],\r\n    onHandleDelete: null,\r\n    onHandleUpdate: null\r\n}\r\n\r\n\r\nfunction Tablee(props) {\r\n    const {apiList,onHandleDelete,onHandleUpdate} = props;\r\n\r\n    const [title,setTitle] = useState([apiList[0] ?[...Object.keys(apiList[0])] : []]);\r\n\r\n    const tempt = useRef({});\r\n\r\n    useEffect(() => {\r\n        setTitle(apiList[0] ?[...Object.keys(apiList[0])] : [])\r\n    },[apiList])\r\n\r\n\r\n    const handleDelete = (id) => {\r\n        const btn = document.getElementById('btn'+id);\r\n        const btnDel = document.getElementById('btnDel'+id);\r\n        const name = document.getElementById('name'+id);\r\n        const des = document.getElementById('des'+id);\r\n        const price = document.getElementById('price'+id);\r\n\r\n        if(btnDel.innerText === \"Delete\"){\r\n            if(onHandleDelete){\r\n                onHandleDelete(id);\r\n            }   \r\n        }else{\r\n            name.innerHTML= tempt.current.name;\r\n            des.innerHTML= tempt.current.description;\r\n            price.innerHTML = tempt.current.price;\r\n\r\n            btn.innerText=\"Update\"\r\n            btnDel.innerText=\"Delete\"\r\n        }\r\n        \r\n    }\r\n\r\n    const handleUpdate = (id) => {\r\n        const btn = document.getElementById('btn'+id);\r\n        const btnDel = document.getElementById('btnDel'+id);\r\n        const name = document.getElementById('name'+id);\r\n        const des = document.getElementById('des'+id);\r\n        const price = document.getElementById('price'+id);\r\n        \r\n        const nameVal = name.innerHTML;\r\n        const desVal = des.innerHTML;\r\n        const priceVal = price.innerHTML;\r\n\r\n        console.log(name);\r\n        tempt.current={\r\n          \r\n                name: nameVal,\r\n                description: desVal,\r\n                price: priceVal\r\n         \r\n        }\r\n\r\n          console.log(tempt.current);\r\n\r\n        const data= apiList.find(api => api.id === id);\r\n        console.log(data)\r\n        \r\n        if(btn.innerText===\"Update\"){\r\n            btn.innerText=\"Save\";\r\n            btnDel.innerText=\"Back\"\r\n    \r\n            name.innerHTML = \"<input type='text' id='inputName\"+id+\"' value='\"+nameVal+\"'>\";\r\n            des.innerHTML = \"<input type='text' id='inputDes\"+id+\"' value='\"+desVal+\"'>\";\r\n            price.innerHTML = \"<input type='text' id='inputPrice\"+id+\"' value='\"+priceVal+\"'>\";\r\n          \r\n        }else{\r\n            const nameVal = document.getElementById('inputName'+id).value;\r\n            const desVal = document.getElementById('inputDes'+id).value;\r\n            const priceVal = document.getElementById('inputPrice'+id).value;\r\n            \r\n\r\n            if(onHandleUpdate){\r\n                if(nameVal.trim()!==''&&desVal.trim()!==''&&priceVal.trim()!==''){\r\n                    \r\n                    setTimeout(()=>{\r\n                        name.innerHTML = nameVal;\r\n                        des.innerHTML = desVal;\r\n                        price.innerHTML = priceVal;\r\n                        btn.innerText=\"Update\"\r\n                        btnDel.innerText=\"Delete\"\r\n                    },700);\r\n                    const value ={\r\n                        ...data,\r\n                        name: nameVal.trim(),\r\n                        description: desVal.trim(),\r\n                        price: priceVal.trim()\r\n                    }\r\n                    onHandleUpdate(id,value);\r\n                }else{\r\n                    alert('Dữ liệu không được bỏ trống')\r\n                }\r\n               \r\n            }\r\n\r\n        }\r\n    }\r\n\r\n  \r\n\r\n    return (\r\n        <div>\r\n            <Table className=\"table\" responsive hover>\r\n                <thead>\r\n                    <tr>\r\n                        {\r\n                            title.map(column => {\r\n                                return (\r\n                                    <th key={column}>{column}</th>\r\n                                )\r\n                            })\r\n                        }\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                        {\r\n                            apiList.map(row => {\r\n                                const idName = `name${row.id}`;\r\n                                const idDes = `des${row.id}`;\r\n                                const idPrice = `price${row.id}`;\r\n                                const idBtn =`btn${row.id}`;\r\n                                const idBtnDel =`btnDel${row.id}`;\r\n                                return (\r\n                                    <tr key={row.id} id={row.id} className=\"table_row\">\r\n                                         <td>{row.id}</td>\r\n                                         <td id={idName}>{row.name}</td>\r\n                                         <td id={idDes}>{row.description}</td>\r\n                                         <td id={idPrice}>{row.price}</td>\r\n                                         <td>{row.createdAt}</td>\r\n                                         <td>{row.updatedAt}</td>\r\n                                         <td style={{width: \"100px\"}}>\r\n                                             <div className=\"table_row_button\">\r\n                                                <Button  id={idBtn} name={row.id} onClick={()=>handleUpdate(row.id)}  color=\"warning\">Update</Button>\r\n                                             </div>\r\n                                         </td>\r\n                                         <td style={{width: \"100px\"}}>\r\n                                             <div className=\"table_row_button\">\r\n                                                <Button id={idBtnDel}  name={row.id} onClick={()=>handleDelete(row.id)}   color=\"danger\">Delete</Button>\r\n                                             </div>\r\n                                         </td>\r\n                                    </tr>\r\n                                )\r\n                            })\r\n                        }\r\n                </tbody>\r\n            </Table>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Tablee;\r\n"],"sourceRoot":""}